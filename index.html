<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/tabletop1.3.4.js"></script>
    <script type="text/javascript" src="js/sheetsee.js"></script>
    <link rel='stylesheet' type='text/css' href='http://api.tiles.mapbox.com/mapbox.js/v1.0.0/mapbox.css'/>
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <!-- <link rel="stylesheet" type="text/css" href="css/style.css"> -->
    <title>The Places I've Been</title>
  </head>
  <style>
    #map {width: 100%; height: 100%; background-color: #C9FF19;}
  </style>
  <body>
    <!-- HTML -->
    <div id="map"></div>

    <!-- Templates -->
    <script id="placeholder" type="text/html">
      // template HTML here
    </script>

    <!-- JavaScript -->
    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
          var URL = "1MXLeCQp8e2MXBsdCFp1qZIdiwQf92VUqPhyNDU9lrJc"
          Tabletop.init( { key: URL, callback: myData, simpleSheet: true } )
      })
      function myData(data) {
        console.log("The data ", data)
        var opts = ['city', 'country', 'why']
        var geojson = Sheetsee.createGeoJSON(data, opts)
        var template = "<h4>{{city}}</h4>"
        var map = Sheetsee.loadMap("map")
        Sheetsee.addTileLayer(map, 'jllord.iiplg6lj')
        var markerLayer = Sheetsee.addMarkerLayer(geojson, map, template)
      }
    </script>
  </body>
</html>
